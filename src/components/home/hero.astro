---
import ContactForm from "../contact-form.astro";
---

<style>
    .animated-title {
        font-size: 2.5rem;
        line-height: 1.2;
        color: white; /* Default text color */
        position: relative;
        display: inline-block;
    }
    .animated-title .word {
        display: inline-block;
        animation: colorChange 5s infinite;
        margin-right: 0.2rem; /* Small spacing between words */
    }
    .animated-title .word:nth-child(1) {
        animation-delay: 0s;
    }
    .animated-title .word:nth-child(2) {
        animation-delay: 1s;
    }
    .animated-title .word:nth-child(3) {
        animation-delay: 2s;
    }
    .animated-title .word:nth-child(5) {
        animation-delay: 3s;
    }
    .animated-title .word:nth-child(6) {
        animation-delay: 4s;
    }

    @keyframes colorChange {
        0%,
        20% {
            background-color: #e30f29;
        }
        21%,
        100% {
            background-color: transparent;
        }
    }

    @media (max-width: 576px) {
        .animated-title {
            font-size: 1.8rem;
        }
        .animated-title .word {
            margin-right: 0.1rem;
        }
    }

    .main-heading > .animated-title > span {
        padding: 3px;
    }

      .modal-body {
            padding: 0px;
        }
        .modal-body > section{
padding: 1px !important;
        }

        
        .modal-body > section > div {
            margin-top: 0px !important;
            
        }
        .modal-header {
            background-color: #0a0f4f;
            border: none;
        }

        .modal-header > button > i {
            color: white;
        }
        #exampleModal {
            margin-top: 25px;
        }
        @media (min-width: 768px) {
            .modal-dialog {
                max-width: 75%;
                margin: auto;
            }
        }

        @media (max-width: 767.98px) {
            .modal-dialog {
                max-width: 100%;
                margin: 0;
            }
        }
</style>
<main class="main">
    <section id="hero" class="hero section d-none d-lg-block" style="padding-bottom:10px">
        <div class="container">
            <div class="row">
                <div class="col-lg-7 content-col" >
                    <div class="content">
                        <div class="agency-name">
                            <h5>NOTRE AGENCE</h5>
                        </div>
                        <div class="main-heading">
                            <h1 class="animated-title">
                                <span class="word">Agence</span>
                                <span class="word">de</span>
                                <span class="word">Communication</span>
                                <br />
                                <span class="word">Digitale</span>
                                <span class="word">Maroc</span>
                            </h1>
                        </div>

                        <div class="divider"></div>

                        <div class="description">
                            <p>
                                Peu importe le domaine dans lequel vous évoluez,
                                notre agence de communication digitale vous
                                accompagne de A à Z avec des services sur mesure
                                : <strong
                                    >création de sites web professionnels,
                                    stratégies de marketing digital
                                    personnalisées</strong
                                >
                                et <strong></strong>vidéos publicitaires percutantes</strong>. Renforcez votre
                                présence en ligne, attirez plus de clients et valorisez
                                votre image de marque grâce à des solutions modernes
                                et efficaces.
                            </p>
                        </div>

                        <div class="cta-button">
                            <button
                                type="button"
                                data-bs-toggle="modal"
                                data-bs-target="#exampleModal"
                                class="btn"
                            >
                                <span>Parlez directement à un spécialiste de notre équipe</span>
                                <i class="bi bi-arrow-right"></i>
                            </button>

                        </div>
                    </div>
                </div>

                <div class="col-lg-5" >
                    <div class="visual-content" id="videoaskContainer">
                        
            




                     

                        <!-- <div class="stats-card">
                            <div class="stats-number">
                                <h2>100+</h2>
                            </div>
                            <div class="stats-label">
                                <p>Des clients satisfaits</p>
                            </div>
                            <div class="stats-arrow">
                                <a href="#testimonial-section"
                                    ><i class="bi bi-arrow-up-right"></i></a
                                >
                            </div>
                        </div> -->
                    </div>
                </div>
            </div>
            
            <!-- <br/>
            <br/>
            <br/>

            <h1>Quelques-Uns De Nos 100+ Clients</h1> -->
        </div>

        

    </section>


    <div
        class="modal fade"
        id="exampleModal"
        tabindex="-1"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true"
    >
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button
                        type="button"
                        class="btn-close"
                        data-bs-dismiss="modal"
                        aria-label="Close"
                    >
                        <i class="bi bi-x-lg"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <section id="contact" class="contact section">
                        <!-- Contact Form Section (Overlapping) -->
                        <div class="container form-container-overlap">
                            <div
                                class="row justify-content-center"
                                
                                
                            >
                                <div class="col-lg-10">
                                    <ContactForm/>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </div>
    </div>
</main>

<script>
    document.addEventListener('DOMContentLoaded', function() {
            const videoaskContainer = document.getElementById('videoaskContainer');
            
            // Use requestIdleCallback to load VideoAsk when the browser is idle
            if ('requestIdleCallback' in window) {
                requestIdleCallback(function() {
                    loadVideoAsk();
                }, { timeout: 2000 }); // Max 2 second delay even if browser isn't idle
            } else {
                // Fallback for browsers that don't support requestIdleCallback
                setTimeout(loadVideoAsk, 1000);
            }
            
            function loadVideoAsk() {
                videoaskContainer.innerHTML = `
                    <iframe 
                        src="https://www.videoask.com/fawysaw0m" 
                        width="100%" 
                        height="500" 
                        allow="camera; microphone" 
                        style="border:none;"
                        loading="lazy"
                    ></iframe>
                `;
            }
        });
</script>
